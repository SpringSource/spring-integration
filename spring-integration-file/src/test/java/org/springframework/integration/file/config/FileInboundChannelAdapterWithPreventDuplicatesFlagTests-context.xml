<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="https://www.springframework.org/schema/integration/file"
             xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance"
             xmlns:beans="https://www.springframework.org/schema/beans"
             xmlns:integration="https://www.springframework.org/schema/integration"
             xsi:schemaLocation="https://www.springframework.org/schema/beans
			https://www.springframework.org/schema/beans/spring-beans.xsd
			https://www.springframework.org/schema/integration
			https://www.springframework.org/schema/integration/spring-integration.xsd
			https://www.springframework.org/schema/integration/file
			https://www.springframework.org/schema/integration/file/spring-integration-file.xsd">

    <beans:bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"/>

    <integration:channel id="channel">
        <integration:queue/>
    </integration:channel>

    <inbound-channel-adapter id="filterAndNull"
                             directory="file:${java.io.tmpdir}"
                             filter="testFilter"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>
    </inbound-channel-adapter>

    <inbound-channel-adapter id="filterAndTrue"
                             directory="file:${java.io.tmpdir}"
                             filter="testFilter"
                             prevent-duplicates="true"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>
    </inbound-channel-adapter>

    <inbound-channel-adapter id="filterAndFalse"
                             directory="file:${java.io.tmpdir}"
                             filter="testFilter"
                             prevent-duplicates="false"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>

    </inbound-channel-adapter>

    <inbound-channel-adapter id="patternAndNull"
                             directory="file:${java.io.tmpdir}"
                             filename-pattern="test"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>

    </inbound-channel-adapter>

    <inbound-channel-adapter id="patternAndTrue"
                             directory="file:${java.io.tmpdir}"
                             filename-pattern="test"
                             prevent-duplicates="true"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>

    </inbound-channel-adapter>

    <inbound-channel-adapter id="patternAndFalse"
                             directory="file:${java.io.tmpdir}"
                             filename-pattern="test"
                             prevent-duplicates="false"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>

    </inbound-channel-adapter>

    <inbound-channel-adapter id="defaultAndNull"
                             directory="file:${java.io.tmpdir}"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>

    </inbound-channel-adapter>

    <inbound-channel-adapter id="defaultAndTrue"
                             directory="file:${java.io.tmpdir}"
                             prevent-duplicates="true"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>

    </inbound-channel-adapter>

    <inbound-channel-adapter id="defaultAndFalse"
                             directory="file:${java.io.tmpdir}"
                             prevent-duplicates="false"
                             channel="channel"
                             auto-startup="false">
        <integration:poller fixed-rate="10000"/>

    </inbound-channel-adapter>

    <beans:bean id="testFilter" class="org.springframework.integration.file.TestFileListFilter"/>

</beans:beans>
