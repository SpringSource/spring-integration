<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="whats-new"
	xmlns:xi="http://www.w3.org/2001/XInclude"
	xmlns:xlink="http://www.w3.org/1999/xlink">
	<title>What's new in Spring Integration 4.1?</title>
	<para>
		This chapter provides an overview of the new features and improvements
		that have been introduced with Spring Integration 4.1. If you are interested
		in more details, please see the Issue Tracker tickets that
		were resolved as part of the 4.1 development process.
	</para>
	<section id="4.1-general">
		<title>General Changes</title>
		<section id="4.1-amqp-inbound-missing-queues">
			<title>AMQP Inbound Endpoints, Channel</title>
			<para>
				Elements that utilize a message listener container (inbound endpoints, channel)
				now support the <code>missing-queues-fatal</code> attribute.
				See <xref linkend="amqp"/> for more information.
			</para>
		</section>
		<section id="4.1-amqp-outbound-lazy-connect">
			<title>AMQP Outbound Endpoints</title>
			<para>
				The AMQP outbound endpoints support a new property <code>lazy-connect</code>
				(default true). When true, the connection to the broker is not established
				until the first message arrives (assuming there are no inbound endpoints, which
				always attempt to establish the connection during startup). When set the 'false' an
				attempt to establish the connection is made during application startup.
				See <xref linkend="amqp"/> for more information.
			</para>
		</section>
		<section id="4.1-sms-copy-on-get">
			<title>SimpleMessageStore</title>
			<para>
				The <classname>SimpleMessageStore</classname> no longer makes a copy of the group
				when calling <code>getMessageGroup()</code>.
				See <xref linkend="sms-caution"/> for more information.
			</para>
		</section>
		<section id="4.1-ws-encode-uri">
			<title>Web Service Outbound Gateway: encode-uri</title>
			<para>
				The <code>&lt;ws:outbound-gateway/&gt;</code> now
				provides an <code>encode-uri</code> attribute to allow disabling the encoding of the URI object
				before sending the request.
			</para>
		</section>
	</section>
</chapter>
